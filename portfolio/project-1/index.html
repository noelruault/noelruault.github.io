<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8">
  <title>Flea Circus</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Golang solution to the 213th problem of the Euler project: &#34;Flea Circus&#34;.">
  <meta name="author" content="Noel Ruault">
  <meta name="generator" content="Hugo 0.102.3" />

  <style>
    :root{
      --primary-color:#366969;
      --logo-font-size:40px;
    }
  </style>

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://noel.engineer/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://noel.engineer/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://noel.engineer/plugins/themify-icons/themify-icons.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://noel.engineer/css/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://noel.engineer/images/favicon.ico " type="image/x-icon">
  <link rel="icon" href="https://noel.engineer/images/favicon.ico " type="image/x-icon">

  
	<!-- Global Site Tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-E0SG7RR73Y"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-E0SG7RR73Y');
	</script>
	

  <!-- OpenGraph meta (alters social media link metadata) -->
  <meta property="og:title" content="Hello, I'm Noël. I write code because I love to." name="title" />
  <meta property="og:image" content="https://noel.engineer/images/meta/og-image.png " name="image" />
  <meta property="og:description" content="Software engineer in all its amplitude. Backend partisan, Unix enthusiast, MacOs user. Always positive, eager, proactive and passionate. Skilled in agile methodologies and team procedures. Determined to achieve success." name="description" />

</head>
<body>
<!-- preloader start -->
<div class="preloader">
  <div id="bounce" alt="preloader"></div>
</div>
<!-- preloader end -->

<header class="navigation nav-fixed-top">
  <nav class="navbar navbar-expand-lg navbar-dark">
    <a class="navbar-brand" href="https://noel.engineer/">
      
      <h3 class="text-white font-tertiary">noel ruault<span id="cursor">|</span></h3>
      
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
      aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse text-center" id="navigation">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="https://noel.engineer/"> Home </a>
        </li>
        
        
        
        
        
        <li class="nav-item ">
          <a class="nav-link" href="https://noel.engineer/about">About</a>
        </li>
        
        
        
        
        
        <li class="nav-item ">
          <a class="nav-link" href="https://noel.engineer/portfolio">Portfolio</a>
        </li>
        
        
        
        
        
        <li class="nav-item ">
          <a class="nav-link" href="https://noel.engineer/contact">Contact</a>
        </li>
        
        
      </ul>
    </div>
  </nav>
</header>


<script>
  var cursor = true;
  var speed = 550;
  setInterval(() => {
    if (cursor) {
      document.getElementById('cursor').style.opacity = 0;
      cursor = false;
    } else {
      document.getElementById('cursor').style.opacity = 1;
      cursor = true;
    }
  }, speed);
</script>




<section class="page-title bg-primary position-relative overflow-hidden">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center">
        <h1 class="text-white font-tertiary">Flea Circus</h1>
      </div>
    </div>
  </div>
  
  <img src="/images/illustrations/page-title.png" alt="illustrations" class="bg-shape-1 w-100">
  <img src="/images/illustrations/keycap-n-for-noel.svg" alt="illustrations" class="bg-shape-2">
  <img src="/images/illustrations/dots-cyan.svg" alt="illustrations" class="bg-shape-3">
  <img src="/images/illustrations/brackets.svg" alt="illustrations" class="bg-shape-4">
  <img src="/images/illustrations/console.svg" alt="illustrations" class="bg-shape-5">
  <img src="/images/illustrations/dots-group-cyan.svg" alt="illustrations" class="bg-shape-6">
  
</section>




<section class="section portfolio-section">
  <div class="container">
    <div class="row">
      <div class="col-lg-5 mb-5">
        <img src="https://noel.engineer/images/portfolio/cover-5.png" class="img-fluid w-100" alt="Flea Circus">
      </div>
      <div class="col-lg-7 mb-5 mb-lg-0 align-self-center">
        <div class="row mx-0">
          
          <div class="col-sm-6 mb-5">
            <div class="project-meta">
              <i class="ti-calendar"></i>
              <div class="ml-3">
                <h4>Creation date</h4>
                <p>Apr 04, 2022</p>
              </div>
            </div>
          </div>
          
          
          <div class="col-sm-6 mb-5">
            <div class="project-meta">
              <i class="ti-folder"></i>
              <div class="ml-3">
                <h4>Categories</h4>
                <p>Benchmark, Concurrency, Golang, Portfolio</p>
              </div>
            </div>
          </div>
          
          <div class="col-sm-6 mb-5">
            <div class="project-meta">
              <i class="ti-link"></i>
              <div class="ml-3">
                <h4>Project Link</h4>
                <p><a href="https://github.com/archived-code-challenges/flea-circus">https://github.com/archived-code-challenges/flea-circus</a></p>
              </div>
            </div>
          </div>
          
        </div>
      </div>
      <div class="col-lg-11">
        <div class="content"><h1 id="project-euler-problem-213-flea-circus">Project Euler: Problem 213 &ldquo;Flea Circus&rdquo;</h1>
<p>A 30×30 grid of squares contains 900 fleas, initially one flea per square.
When a bell is rung, each flea jumps to an adjacent square at random (usually 4 possibilities, except for fleas on the edge of the grid or at the corners).</p>
<p>What is the expected number of unoccupied squares after 50 rings of the bell? Give your answer rounded to six decimal places.</p>
<h2 id="implementation-plan">Implementation plan</h2>
<ul>
<li><input checked="" disabled="" type="checkbox"> Implement single simulation</li>
<li><input checked="" disabled="" type="checkbox"> Run multiple simulations and calculate average</li>
<li><input checked="" disabled="" type="checkbox"> Run simulations in parallel</li>
<li><input checked="" disabled="" type="checkbox"> Optimize for better speed, less memory allocations</li>
</ul>
<h2 id="run">Run</h2>
<pre><code>go run main.go --workers=1 --runs=1000
</code></pre>
<p><em>Output</em></p>
<pre><code>2022/04/04 22:17:16 Running 1000 simulation(s) in 1 worker(s)...
2022/04/04 22:17:19 Average unnoccupied squares after 1000 simulations: 330.531000
2022/04/04 22:17:19 2.844869326s elapsed
</code></pre>
<h2 id="benchmarking">Benchmarking</h2>
<pre><code>go test -bench=. -benchtime=50x -benchmem
</code></pre>
<blockquote>
<p>&ldquo;-benchtime=50x&rdquo; sets the explicit iteration count to 50 to shorten the benchmark execution time</p>
</blockquote>
<p><em>Output</em></p>
<pre><code>goos: darwin
goarch: amd64
pkg: github.com/noelruault/flea-circus
cpu: Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
BenchmarkRun1Worker-12                50          74098303 ns/op        72206676 B/op    1125144 allocs/op
BenchmarkRun10Workers-12              50         138845500 ns/op        72192206 B/op    1125151 allocs/op
BenchmarkRun100Workers-12             50         186722515 ns/op        72189076 B/op    1125161 allocs/op
</code></pre>
<h2 id="race-condition-checks">Race condition checks</h2>
<p>Running the program with the race detector enabled displays it&rsquo;s absence of data races</p>
<pre><code>go run -race main.go --workers=10 --runs=500
</code></pre>
</div>
      </div>
    </div>
  </div>
</section>





<footer class="bg-dark footer-section">
  <div class="section">
    <div class="container">
      <div class="row">
        <div class="col-md-4">
          <h5 class="text-light">Email</h5>
          <p class="text-white paragraph-lg font-secondary">contact@noel.engineer</p>
        </div>
        <div class="col-md-4">
          <h5 class="text-light">Phone</h5>
          <p class="text-white paragraph-lg font-secondary">&#43;34 722 122 274</p>
        </div>
        <div class="col-md-4">
          <h5 class="text-light">Address</h5>
          <p class="text-white paragraph-lg font-secondary">127.0.0.1, Mallorca</p>
        </div>
      </div>
    </div>
  </div>
  <div class="border-top text-center border-dark py-5">
    <p class="mb-0 text-light">Developed with &lt;3 by Noël Ruault</p>
    <p class="mb-0 text-light">Copyright © 2022 a <a href="https://github.com/themefisher/kross-hugo/blob/master/LICENSE">MIT</a> theme by <a href="https://gohugo.io">HUGO</a></p>
  </div>
</footer>


<!-- Google Map API -->


<!-- JS Plugins -->

<script src="https://noel.engineer/plugins/jQuery/jquery.min.js"></script>

<script src="https://noel.engineer/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://noel.engineer/plugins/slick/slick.min.js"></script>

<script src="https://noel.engineer/plugins/shuffle/shuffle.min.js"></script>

<script src="https://noel.engineer/plugins/google-map/map.js"></script>


<!-- Main Script -->

<script src="https://noel.engineer/js/script.min.js"></script>




  

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>
  <div id="js-cookie-box" class="cookie-box-hide cookie-box cookies-banner">
    <div class="cookies-banner__body">
      <div class="mb-3">
        <br> This site uses cookies.
      </div>

      <div class="mb-3">
        <div class="cookies-banner__pre">
          <div class="cookies-banner__pre-inner">
            By continuing to use this website, you agree to their use.
            <br><br>

            <div class="cookies-banner__link">
              <a id="js-cookie-yes-button" class="cookies-banner__choice-link">
                [<b>Y</b>]es, I agree
              </a>
            </div>
          </div>
        </div>

        <div id="js-close-cookie-button" class="cookies-banner__close-button">[X]</div>
      </div>
    </div>
  </div>

  <script>
    (function ($) {
      const cookieBox = document.getElementById('js-cookie-box');
      const cookieButton = document.getElementById('js-close-cookie-button');
      const cookieYesButton = document.getElementById('js-cookie-yes-button');

      if (!Cookies.get('cookie-box')) {
        cookieBox.classList.remove('cookie-box-hide');
        cookieButton.onclick = function () {
          Cookies.set('cookie-box', true, {
            expires:  1 
          });
          cookieBox.classList.add('cookie-box-hide');
        };
        cookieYesButton.onclick = function () {
            Cookies.set('cookie-box', true, {
              expires:  1 
          });
          cookieBox.classList.add('cookie-box-hide');
        };
      }
    }) (jQuery);
  </script>

  
  


</body>

</html>