<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="utf-8">
  <title>Auction Bid Tracker</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This project consists of an authentication and authorisation service, as well as a bidding system based on users and items. ">
  <meta name="author" content="Noel Ruault">
  <meta name="generator" content="Hugo 0.104.3" />

  <style>
    :root{
      --primary-color:#366969;
      --logo-font-size:40px;
    }
  </style>

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://noel.engineer/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://noel.engineer/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://noel.engineer/plugins/themify-icons/themify-icons.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://noel.engineer/css/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://noel.engineer/images/favicon.ico " type="image/x-icon">
  <link rel="icon" href="https://noel.engineer/images/favicon.ico " type="image/x-icon">

  
	<!-- Global Site Tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-E0SG7RR73Y"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-E0SG7RR73Y');
	</script>
	

  <!-- OpenGraph meta (alters social media link metadata) -->
  <meta property="og:title" content="Hello, I'm Noël. I write code because I love to." name="title" />
  <meta property="og:image" content="https://noel.engineer/images/meta/og-image.png " name="image" />
  <meta property="og:description" content="Software engineer in all its amplitude. Backend partisan, Unix enthusiast, MacOs user. Always positive, eager, proactive and passionate. Skilled in agile methodologies and team procedures. Determined to achieve success." name="description" />

</head>
<body>
<!-- preloader start -->
<div class="preloader">
  <div id="bounce" alt="preloader"></div>
</div>
<!-- preloader end -->

<header class="navigation nav-fixed-top">
  <nav class="navbar navbar-expand-lg navbar-dark">
    <a class="navbar-brand" href="https://noel.engineer/">
      
      <h3 class="text-white font-tertiary">noel ruault<span id="cursor">|</span></h3>
      
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
      aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse text-center" id="navigation">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="https://noel.engineer/"> Home </a>
        </li>
        
        
        
        
        
        <li class="nav-item ">
          <a class="nav-link" href="https://noel.engineer/about">About</a>
        </li>
        
        
        
        
        
        <li class="nav-item ">
          <a class="nav-link" href="https://noel.engineer/portfolio">Portfolio</a>
        </li>
        
        
        
        
        
        <li class="nav-item ">
          <a class="nav-link" href="https://noel.engineer/contact">Contact</a>
        </li>
        
        
      </ul>
    </div>
  </nav>
</header>


<script>
  var cursor = true;
  var speed = 550;
  setInterval(() => {
    if (cursor) {
      document.getElementById('cursor').style.opacity = 0;
      cursor = false;
    } else {
      document.getElementById('cursor').style.opacity = 1;
      cursor = true;
    }
  }, speed);
</script>




<section class="page-title bg-primary position-relative overflow-hidden">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center">
        <h1 class="text-white font-tertiary">Auction Bid Tracker</h1>
      </div>
    </div>
  </div>
  
  <img src="/images/illustrations/page-title.png" alt="illustrations" class="bg-shape-1 w-100">
  <img src="/images/illustrations/keycap-n-for-noel.svg" alt="illustrations" class="bg-shape-2">
  <img src="/images/illustrations/dots-cyan.svg" alt="illustrations" class="bg-shape-3">
  <img src="/images/illustrations/brackets.svg" alt="illustrations" class="bg-shape-4">
  <img src="/images/illustrations/console.svg" alt="illustrations" class="bg-shape-5">
  <img src="/images/illustrations/dots-group-cyan.svg" alt="illustrations" class="bg-shape-6">
  
</section>




<section class="section portfolio-section">
  <div class="container">
    <div class="row">
      <div class="col-lg-5 mb-5">
        <img src="https://noel.engineer/images/portfolio/cover-4.png" class="img-fluid w-100" alt="Auction Bid Tracker">
      </div>
      <div class="col-lg-7 mb-5 mb-lg-0 align-self-center">
        <div class="row mx-0">
          
          <div class="col-sm-6 mb-5">
            <div class="project-meta">
              <i class="ti-calendar"></i>
              <div class="ml-3">
                <h4>Creation date</h4>
                <p>Apr 13, 2021</p>
              </div>
            </div>
          </div>
          
          
          <div class="col-sm-6 mb-5">
            <div class="project-meta">
              <i class="ti-folder"></i>
              <div class="ml-3">
                <h4>Categories</h4>
                <p>Benchmarking, Golang, Portfolio</p>
              </div>
            </div>
          </div>
          
          <div class="col-sm-6 mb-5">
            <div class="project-meta">
              <i class="ti-link"></i>
              <div class="ml-3">
                <h4>Project Link</h4>
                <p><a href="https://github.com/archived-code-challenges/auction">https://github.com/archived-code-challenges/auction</a></p>
              </div>
            </div>
          </div>
          
        </div>
      </div>
      <div class="col-lg-11">
        <div class="content"><h1 id="auction-bid-tracker">Auction bid tracker</h1>
<p>This project consists of an authentication and authorisation service, as well as a bidding system based on users and items.</p>
<h2 id="implementation-decisions">Implementation decisions</h2>
<p>I have decided to run this task without doing all possible CRUD methods, in order not to obfuscate the code.
I have considered this on the assumption that the structure is consistent enough to get an idea of how they would have been implemented. I hope you like it.</p>
<h3 id="data-chart">Data chart</h3>
<pre><code>┌─────────────┐                       ┌─────────────┐
│    USERS    ├───────────────────────┤     BIDS    │
│             │1                  0..N│             │
└─────────────┘                       └──────┬──────┘
                                        0..N │
┌─────────────┐                              │
│             │ 1                            │
│    ITEMS    ├──────────────────────────────┘
└─────────────┘
</code></pre>
<h3 id="data-structure">Data structure</h3>
<table>
<thead>
<tr>
<th>User</th>
<th>Item</th>
<th>Bid</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>id</td>
<td>id</td>
</tr>
<tr>
<td>name</td>
<td>name</td>
<td>item id</td>
</tr>
<tr>
<td></td>
<td>value*</td>
<td>user id</td>
</tr>
<tr>
<td></td>
<td></td>
<td>amount</td>
</tr>
</tbody>
</table>
<hr>
<p>*value is used as starting price of an object in the auction service.</p>
<h3 id="chosen-data-structures-and-concurrency-approach">Chosen data structures and concurrency approach</h3>
<p>I have used:</p>
<ul>
<li>A set of Golang <a href="https://blog.golang.org/maps">maps</a> along with</li>
<li><a href="https://golang.org/pkg/sync/#RWMutex">RWMutexes</a> and</li>
<li>incremental integers used to simulate the sequential addition of elements into the map</li>
</ul>
<p>Everything can be found on the <a href="/internal/models/memdatabase.go">memdatabase.go</a> file</p>
<p>As far as the entities <strong>user</strong> and <strong>item</strong> are concerned, the mutex used will not return any error if two concurrent users try to add one of these items to the storage but wait until the first one is done to process the second one.
On the other hand, the code in charge of the <strong>bids</strong> will return an error if two users try to access the same resource, excluding the last one that consumes the service. I have decided to do this to ensure consistency of bids as well as to guarantee that the amount a user bids does not increase if the bid comes in second place.</p>
<p>Some tests can be found at <a href="/internal/models/memdatabase_test.go">memdatabase_test.go</a></p>
<h2 id="instructions-to-run-the-project">Instructions to run the project</h2>
<p>The project is vendored so nothing else than <code>go run</code> might be needed. You can use the makefile that will ensure everything is correctly in place and point to the main file for you.</p>
<pre><code>make go-run
</code></pre>
<p>There is also a docker version of the execution. But depending of your SO you will need to <a href="https://stackoverflow.com/a/24326540">configure how to access to the container</a> through your host.</p>
<pre><code>make docker-build
make docker-run
</code></pre>
<h2 id="api-usage">API usage</h2>
<p>The project has a <a href="/docs/auction-bid-tracker.postman_collection.json">Postman collection</a> attached, which can be used to interact with the auction service.</p>
<h3 id="packaging">Packaging</h3>
<ul>
<li>entrypoint in <code>cmd/sales-api</code></li>
<li>HTTP layer in <code>cmd/sales-api/internal/handlers</code></li>
<li>business logic in <code>internal/models</code>
<ul>
<li>in-memory database in <code>internal/models/memdatabase.go</code></li>
</ul>
</li>
<li>framework for common HTTP related tasks in <code>internal/web</code></li>
<li>helper functions to process data before response/request in <code>internal/views</code></li>
<li>documentation, images and helpful files in <code>docs/</code></li>
</ul>
<h2 id="benchmarking">Benchmarking</h2>
<p>I did some testing to check if the performance was good enough and IMO the processing times are fast.</p>
<p><img src="/docs/images/bench-create-bids.png" alt="bench-create-bids"></p>
<blockquote>
<p>Benchmarking of 500 sequential creations of a bid using the model and storage.</p>
</blockquote>
<p><img src="/docs/images/bench-listing-by-user-id.png" alt="bench-list-by-user-id"></p>
<blockquote>
<p>Benchmarking of 500 sequential listings of items given a user ID. For this one I created 1000 bids for 5 items with the same user and then queried to find the items per user.</p>
</blockquote>
<p>I used <a href="https://github.com/nakabonne/ali">ali</a> for the load testing.</p>
</div>
      </div>
    </div>
  </div>
</section>





<footer class="bg-dark footer-section">
  <div class="section">
    <div class="container">
      <div class="row">
        <div class="col-md-4">
          <h5 class="text-light">Email</h5>
          <p class="text-white paragraph-lg font-secondary">contact@noel.engineer</p>
        </div>
        <div class="col-md-4">
          <h5 class="text-light">Phone</h5>
          <p class="text-white paragraph-lg font-secondary">&#43;34 722 122 274</p>
        </div>
        <div class="col-md-4">
          <h5 class="text-light">Address</h5>
          <p class="text-white paragraph-lg font-secondary">127.0.0.1, Mallorca</p>
        </div>
      </div>
    </div>
  </div>
  <div class="border-top text-center border-dark py-5">
    <p class="mb-0 text-light">Developed with &lt;3 by Noël Ruault</p>
    <p class="mb-0 text-light">Copyright © 2022 a <a href="https://github.com/themefisher/kross-hugo/blob/master/LICENSE">MIT</a> theme by <a href="https://gohugo.io">HUGO</a></p>
  </div>
</footer>


<!-- Google Map API -->


<!-- JS Plugins -->

<script src="https://noel.engineer/plugins/jQuery/jquery.min.js"></script>

<script src="https://noel.engineer/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://noel.engineer/plugins/slick/slick.min.js"></script>

<script src="https://noel.engineer/plugins/shuffle/shuffle.min.js"></script>

<script src="https://noel.engineer/plugins/google-map/map.js"></script>


<!-- Main Script -->

<script src="https://noel.engineer/js/script.min.js"></script>




  

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js"></script>
  <div id="js-cookie-box" class="cookie-box-hide cookie-box cookies-banner">
    <div class="cookies-banner__body">
      <div class="mb-3">
        <br> This site uses cookies.
      </div>

      <div class="mb-3">
        <div class="cookies-banner__pre">
          <div class="cookies-banner__pre-inner">
            By continuing to use this website, you agree to their use.
            <br><br>

            <div class="cookies-banner__link">
              <a id="js-cookie-yes-button" class="cookies-banner__choice-link">
                [<b>Y</b>]es, I agree
              </a>
            </div>
          </div>
        </div>

        <div id="js-close-cookie-button" class="cookies-banner__close-button">[X]</div>
      </div>
    </div>
  </div>

  <script>
    (function ($) {
      const cookieBox = document.getElementById('js-cookie-box');
      const cookieButton = document.getElementById('js-close-cookie-button');
      const cookieYesButton = document.getElementById('js-cookie-yes-button');

      if (!Cookies.get('cookie-box')) {
        cookieBox.classList.remove('cookie-box-hide');
        cookieButton.onclick = function () {
          Cookies.set('cookie-box', true, {
            expires:  1 
          });
          cookieBox.classList.add('cookie-box-hide');
        };
        cookieYesButton.onclick = function () {
            Cookies.set('cookie-box', true, {
              expires:  1 
          });
          cookieBox.classList.add('cookie-box-hide');
        };
      }
    }) (jQuery);
  </script>

  
  


</body>

</html>